<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elevate Racing - AirKart</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="top-box">
            <div class="logo2"><img src="logo2.png" alt="AirKart Logo"></div>
            <div class="logo1"><img src="logo1.png" alt="Elevate Racing Logo"></div>
            <nav>
                <a href="reserve.html" class="btn">Reserve your AirKart</a>
                <a href="book.html" class="btn">Book a Flight</a>
                <a href="investors.html" class="btn">For Investors</a>
            </nav>
        </div>
    </header>

    <main class="hero-section">
        <section class="hero-content">
            <h1>Experience the Thrill of AirKarting</h1>
            <h2>Own your AirKart or take fly at one of our AeroKarting Tracks</h2>
            <p1>Elevate Racing unveils AirKart, the ultimate eVTOL for personal flight and racing excitement.</p1>
            <p2>Engineered for agility and speed, it’s your ticket to the skies.</p2>
        </section>
    </main>

    <section class="content-section">
        <h2>Own Your AirKart</h2>
        <h3>Secure your spot for $199,000</h3>
        <p>Join the elite few who own an AirKart. Limited production slots available—reserve now to experience flight like never before.</p>
    </section>

    <section class="content-section-right">
        <div class="content-right">
            <h2>Own Your AirKart</h2>
            <h3>Secure your spot for $199,000</h3>
            <p>Join the elite few who own an AirKart. Limited production slots available—reserve now to experience flight like never before.</p>
        </div>
    </section>

    <footer>
        <p>© 2025 Elevate Racing</p>
        <p>info@elevateracing.com</p>
        <div class="footer-links">
            <a href="#">Terms</a>
            <a href="#">Privacy</a>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const logo1 = document.querySelector('.logo1');
            const logo2 = document.querySelector('.logo2');
            const nav = document.querySelector('nav');
            const topBox = document.querySelector('.top-box');

            // Debounce function
            function debounce(func, wait) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), wait);
                };
            }

            function adjustLogoPosition() {
                if (window.innerWidth <= 768) {
                    logo1.style.position = 'static';
                    logo1.style.transform = 'none';
                    logo1.style.left = 'auto';
                    logo1.style.display = 'block';
                    return;
                }

                const topBoxWidth = topBox.offsetWidth;
                const logo1Width = logo1.offsetWidth;
                const logo2Width = logo2.offsetWidth;
                const navWidth = nav.offsetWidth;

                const totalMinWidth = logo2Width + logo1Width + navWidth + 40;
                const availableSpace = topBoxWidth - logo2Width - navWidth - 40;

                if (topBoxWidth <= totalMinWidth || availableSpace < logo1Width + 20) {
                    logo1.style.display = 'none';
                    return;
                }

                logo1.style.display = 'block';
                logo1.style.position = 'absolute';

                const centerPoint = topBoxWidth / 2;
                const logo1RightEdge = centerPoint + (logo1Width / 2);
                const navLeftEdge = topBoxWidth - navWidth - 20;

                if (logo1RightEdge + 20 >= navLeftEdge) {
                    const newLeft = logo2Width + 20 + (availableSpace - logo1Width) / 2;
                    logo1.style.left = Math.max(logo2Width + 20, newLeft) + 'px';
                    logo1.style.transform = 'translateY(-50%)';
                } else {
                    logo1.style.left = '50%';
                    logo1.style.transform = 'translate(-50%, -50%)';
                }
            }

            // Initial adjustment
            adjustLogoPosition();

            // Fast resize handler with RAF and reduced debounce
            let rafId;
            const debouncedAdjust = debounce(() => {
                cancelAnimationFrame(rafId);
                rafId = requestAnimationFrame(adjustLogoPosition);
            }, 16); // 16ms ~ 60fps

            window.addEventListener('resize', debouncedAdjust);

            // Smooth scrolling override
            document.querySelectorAll('html, body').forEach(el => {
                el.style.scrollBehavior = 'auto'; // Disable default smooth scroll
            });

            let isScrolling = false;
            window.addEventListener('scroll', function() {
                if (isScrolling) return;

                isScrolling = true;
                const scrollPos = window.scrollY;
                const sections = document.querySelectorAll('.hero-section, .content-section, .content-section-right');
                let targetSection;

                sections.forEach(section => {
                    const top = section.offsetTop;
                    const height = section.offsetHeight;
                    if (scrollPos >= top - height / 2 && scrollPos < top + height / 2) {
                        targetSection = section;
                    }
                });

                if (targetSection) {
                    const targetTop = targetSection.offsetTop;
                    const startPos = scrollPos;
                    const distance = targetTop - startPos;
                    const duration = 1000; // 1 second for smooth, professional scroll
                    let startTime;

                    function animateScroll(timestamp) {
                        if (!startTime) startTime = timestamp;
                        const elapsed = timestamp - startTime;
                        const progress = Math.min(elapsed / duration, 1);
                        const ease = 1 - Math.pow(1 - progress, 4); // Ease-out quartic

                        window.scrollTo(0, startPos + distance * ease);

                        if (progress < 1) {
                            requestAnimationFrame(animateScroll);
                        } else {
                            isScrolling = false;
                        }
                    }

                    requestAnimationFrame(animateScroll);
                } else {
                    isScrolling = false;
                }
            }, { passive: true });
        });
    </script>
</body>
</html>
